"use strict";(self["webpackChunkonline_test"]=self["webpackChunkonline_test"]||[]).push([[661],{6301:function(e,t,i){i.r(t),i.d(t,{default:function(){return f}});var s=function(){var e=this,t=e._self._c;return t("div",[e.verify?e._e():t("div",{staticClass:"auth__body auth__form mb-30"},[t("AppText",{staticClass:"mb-20",attrs:{size:e.isDesktopSmall?20:26,"line-height":e.isDesktopSmall?30:32,weight:"700"}},[e._v(" Ro'yxatdan o'tish ")]),t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({handleSubmit:i}){return[t("form",{on:{submit:function(t){return t.preventDefault(),i(e.registerUser)}}},[t("div",{staticClass:"form-control"},[t("div",{staticClass:"form-group"},[t("base-select",{attrs:{vid:"type",label:"Foydalanuvchi shakli",rules:"required",type:"text",placeholder:"Foydalanuvchi shakli",optionsProp:e.usertype,append:!0},on:{itemSelected:e.userType},scopedSlots:e._u([{key:"append",fn:function(){return[t("svg",{staticClass:"Dropdown_self__FtxaI",staticStyle:{height:"1rem",width:"1rem"},attrs:{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M13.2797 5.9668L8.93306 10.3135C8.41973 10.8268 7.57973 10.8268 7.06639 10.3135L2.71973 5.9668",stroke:"rgb(51, 54, 57)","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}})])]},proxy:!0}],null,!0),model:{value:e.userValueType,callback:function(t){e.userValueType=t},expression:"userValueType"}})],1),t("div",{staticClass:"form-group"},[t("base-input",{directives:[{name:"mask",rawName:"v-mask",value:"#########",expression:"'#########'"}],attrs:{type:"text",vid:"phone",rules:"required|min:9",label:"Telefon raqam",placeholder:"93 343-43-43",prepend:!0},scopedSlots:e._u([{key:"prepend",fn:function(){return[e._v(" +998 ")]},proxy:!0}],null,!0),model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("div",{staticClass:"form-group"},[t("base-input",{attrs:{type:"text",vid:"first_name",rules:"required",label:"Ismingizni kiritng",placeholder:"Ism"},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),t("div",{staticClass:"form-group"},[t("base-input",{attrs:{type:"text",vid:"last_name",rules:"required",label:"Familiyangizni kiritng",placeholder:"Familiya"},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),t("ValidationObserver",[t("base-input",{attrs:{type:e.passwordField?"text":"password",vid:"password",rules:"required",label:"Parolni kiriting",placeholder:"Parolni kiriting",append:!0},scopedSlots:e._u([{key:"append",fn:function(){return[e.passwordField?t("i",{staticClass:"fas fa-eye",on:{click:e.passwordSee}}):e._e(),e.passwordField?e._e():t("i",{staticClass:"far fa-eye-slash",on:{click:e.passwordSee}})]},proxy:!0}],null,!0),model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),t("base-input",{attrs:{type:e.passwordConfirmationField?"text":"password",vid:"confirmPassword",rules:"required|confirmed:password",label:"Parol tasdig‘i",placeholder:"Parol tasdig‘i",append:!0},scopedSlots:e._u([{key:"append",fn:function(){return[e.passwordConfirmationField?t("i",{staticClass:"fas fa-eye",on:{click:e.confirmationSee}}):e._e(),e.passwordConfirmationField?e._e():t("i",{staticClass:"far fa-eye-slash",on:{click:e.confirmationSee}})]},proxy:!0}],null,!0),model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),t("app-button",{staticClass:"w-100 mb-20",attrs:{theme:"info",type:"submit","font-size":e.isMobileSmall?12:e.isMobile?14:16,sides:e.isMobileSmall?10:e.isMobile?20:30,height:45}},[e._v(" Davom etish ")]),t("div",{staticClass:"form-group"},[t("AppText",{class:e.isDesktopSmall?"text-center":"",attrs:{size:"14",weight:"700","line-height":"17"}},[e._v(" Akkountingiz bormi ? "),t("router-link",{staticStyle:{color:"#008ae4 !important","margin-left":"5px"},attrs:{to:"/sign-in"}},[e._v(" Tizimga kiring ")])],1)],1)],1)]}}],null,!1,3990109893)})],1),e.verify?t("div",{staticClass:"auth__body auth__form mb-30"},[t("AppText",{staticClass:"text-center mb-20",attrs:{size:e.isMobileSmall?"16":"20","line-height":e.isMobileSmall?"20":"24",weight:"400"}},[e._v(" Kod sms orqali quyidagi raqamga yuborildi: "),t("p",{staticClass:"bold-text mt-10"},[e._v(e._s(e.user))])]),t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({handleSubmit:i}){return[t("form",{on:{submit:function(t){return t.preventDefault(),i(e.verifyUser)}}},[t("div",{staticClass:"form-control"},[t("div",{staticClass:"form-group"},[t("base-input",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"}],attrs:{type:"text",vid:"code",rules:"required",label:"Kodni kiriting",placeholder:"Kodni kiritng"},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}})],1)]),t("div",{staticClass:"d-flex justify-space-between flex-wrap"},[t("app-button",{attrs:{theme:"orange","font-size":e.isMobileSmall?12:e.isMobile?14:16,sides:e.isMobileSmall?10:e.isMobile?20:30,height:45},on:{click:e.goBack}},[e._v(" Orqaga ")]),t("app-button",{attrs:{theme:"info",type:"submit","font-size":e.isMobileSmall?12:e.isMobile?14:16,sides:e.isMobileSmall?10:e.isMobile?20:30,height:45}},[e._v(" Davom etish ")])],1),t("div",{staticClass:"text-center mt-20"},[t("AppText",{staticClass:"text-center color-main",attrs:{size:e.isMobileSmall?"14":"16","line-height":"20"}},[t("a",{staticClass:"link-title",attrs:{disabled:0!==e.registerTimer},on:{click:e.resendCode}},[e._v(" Kodni qayta yuborish ")]),t("b",[e._v(" "+e._s(e.timerFormat()))])])],1)])]}}],null,!1,2101186322)})],1):e._e()])},a=[],r=(i(7658),i(5708)),o=i(3822),l=i(5957),n=i(4860),d=i(1920),p={name:"AppRegister",components:{ValidationObserver:r._j,BaseInput:l.Z,AppButton:n.Z,BaseSelect:d.Z},data(){return{form:{phone:"",password:"",type:"",last_name:"",first_name:""},verifyCode:"",verify:!1,passwordField:!1,passwordConfirmationField:!1,confirmPassword:"",isActive:!1,loading:!1,user:"",registerTimer:120,userValueType:"",usertype:[{value:"applicant",name:"O'quvchi"},{value:"student",name:"Abituriyent"}]}},computed:{...(0,o.Se)([])},methods:{...(0,o.nv)([]),...(0,o.OI)([]),passwordSee(){this.passwordField=!this.passwordField},confirmationSee(){this.passwordConfirmationField=!this.passwordConfirmationField},setTimer(){let e=this,t=setInterval((function(){e.registerTimer<=0?clearInterval(t):e.registerTimer--}),1e3)},timerFormat(){let e=parseInt(this.registerTimer),t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),s=e-3600*t-60*i;return i<10&&(i="0"+i),s<10&&(s="0"+s),i+":"+s},registerUser(){this.loading=!0,this.$http.post("users/register/",this.form).then((e=>{e.result&&e.result.user&&(this.user=e.result.user,this.verify=!0,this.setTimer(),this.loading=!1,this.successNotification(e.result.user+" telefon raqamiga kod yuborildi"))})).catch((e=>{this.warningNotification(e.response.data.phone[0])})).finally((()=>{this.loading=!1}))},verifyUser(){this.loading=!0,this.$http.post("users/verify/otp/",{code:this.verifyCode,user:this.user}).then((e=>{e&&200===e.code&&(this.successNotification("Hisobingiz muvaffaqiyatli tasdiqlandi."),this.$router.push({name:"login"}))})).catch((e=>{this.errorNotification(e.response.data.message)})).finally((()=>{this.loading=!1}))},goBack(){this.form={phone:"",password:"",type:"applicant",last_name:"",first_name:""},this.registerTimer=120,this.verify=!1},resendCode(){0===this.registerTimer&&(this.registerTimer=120,this.registerUser())},userType(e){this.form.type=e.value,this.userValueType=e.name}},watch:{typeValue(){this.typeChanged()}}},u=p,c=i(1001),m=(0,c.Z)(u,s,a,!1,null,"741a11b7",null),f=m.exports},1920:function(e,t,i){i.d(t,{Z:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("ValidationProvider",{ref:"validationInput",staticClass:"input__holder",attrs:{tag:"div",rules:e.rules,name:e.label?e.label:e.placeholder,vid:e.vid,hideDetails:e.hideDetails},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("div",{staticClass:"input__block",class:e.disabled?"disabled":""},[t("label",{staticClass:"input__block-label"},[e.label?t("span",{staticClass:"input__block-title"},[e._v(e._s(e.label))]):e._e(),t("div",{directives:[{name:"on-click-outside",rawName:"v-on-click-outside:excludedClass",value:e.hideSelectDropdown,expression:"hideSelectDropdown",arg:"excludedClass"}],staticClass:"input__block-wrap",class:i[0]?"error":"",on:{click:function(t){t.preventDefault(),e.dropdownVisible=!e.dropdownVisible}}},[e.append?t("div",{staticClass:"input__block-append",class:{active:e.dropdownVisible}},[e._t("append")],2):e._e(),t("input",e._b({ref:"input",staticClass:"input__block-input",class:e.append?"append":"",staticStyle:{cursor:"pointer !important"},attrs:{readonly:"readonly",disabled:e.disabled,type:e.type,maxlength:e.maxlength,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.inputValue}},"input",e.$attrs,!1)),t("transition",{attrs:{name:"slide"}},[e.dropdownVisible?t("div",{staticClass:"dropdown"},[t("div",{staticClass:"dropdown-wrap"},e._l(e.selectOptions,(function(i){return t("div",{key:i.id,staticClass:"dropdown-item",class:i.name===e.value||i.number===e.value?"active":"",on:{click:function(t){return e.selectItem(i)}}},[e._v(" "+e._s("classes"===e.selectType?i.number:i.name)+" ")])})),0)]):e._e()])],1),e.hideDetails?e._e():t("div",{staticClass:"input__details"},[i[0]?t("span",{attrs:{id:"error"}},[e._v(e._s(i[0]))]):e._e()])])])]}}],null,!0)})},a=[],r=i(5708),o=i(8815);(0,r.l7)("required",{...o.C1,message:"{_field_}ni kiritish majburiy"});var l={name:"BaseSelect",components:{ValidationProvider:r.d_},props:{value:{default:""},label:{type:String},type:{},selectType:{type:String},hideDetails:{type:Boolean},placeholder:{type:String},rules:{},vid:{},maxlength:{default:null},disabled:{type:Boolean,default:()=>!1},append:Boolean,autofocus:Boolean,optionsProp:{type:Array,default:()=>[{name:"Something",id:0}]}},data(){return{selectOptions:[],dropdownVisible:!1}},computed:{},methods:{inputValue(e){this.$emit("input",e.target.value)},focus(){this.$refs.input.focus()},hideSelectDropdown(){this.dropdownVisible=!1},selectItem(e){this.$emit("input",e.name),this.$emit("change",e.name),this.$emit("itemSelected",e)}},mounted(){this.selectOptions=this.optionsProp,this.autofocus&&this.focus()},watch:{optionsProp(){this.selectOptions=[],this.selectOptions=this.optionsProp}}},n=l,d=i(1001),p=(0,d.Z)(n,s,a,!1,null,"b1caf588",null),u=p.exports}}]);
//# sourceMappingURL=661.fdd454ad.js.map